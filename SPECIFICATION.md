# 機能仕様

## 機能一覧
<!-- プロジェクトの機能をリストアップ -->
- 機能1: <!-- 機能の説明 -->
- 機能2: <!-- 機能の説明 -->
- 機能3: <!-- 機能の説明 -->

## データベース仕様
<!-- テーブル設計を記載 -->

### テーブル名の例
<!-- テーブル名と説明を記載 -->

| カラム名 | 型 | 説明 |
|---------|-----|------|
| id | INT | ID（主キー） |
| name | VARCHAR(255) | 名前 |
| created_at | DATETIME | 作成日時 |

## API仕様
<!-- APIがある場合、仕様を記載 -->

### エンドポイント例
```
POST /api/example.php
```

#### リクエスト
```json
{
  "key": "value"
}
```

#### レスポンス（成功）
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "name": "example"
  }
}
```

#### レスポンス（エラー）
```json
{
  "status": "error",
  "message": "エラーメッセージ"
}
```

## 画面遷移
<!-- 画面遷移図を記載 -->
```
トップページ
    ↓
一覧ページ
    ↓ [詳細ボタン]
詳細ページ
    ↓ [編集ボタン]
編集ページ
    ↓ [保存]
一覧ページ（リダイレクト）
```

## エラーハンドリング

### 想定されるエラー
1. **データベース接続エラー**
   - エラーメッセージを適切な形式で返す
   - ユーザーには分かりやすいメッセージを表示

2. **データが存在しない**
   - エラーメッセージを返す
   - 処理を中断

3. **ファイルが存在しない**
   - デフォルトファイルを表示
   - エラーをログに記録（本番環境）

### エラー表示の方針
- **開発環境**: エラーメッセージを表示（デバッグ用）
- **本番環境**: エラーメッセージは表示しない（ログに記録のみ）

## セキュリティ要件

### 必須実装
- SQLインジェクション対策（プリペアドステートメント）
- XSS対策（出力時のエスケープ）
- 二重送信防止（POST後リダイレクト）

### 推奨実装
- CSRF対策（トークン使用）
- レート制限（連続リクエストの制限）
- 入力値検証（サーバー側）
